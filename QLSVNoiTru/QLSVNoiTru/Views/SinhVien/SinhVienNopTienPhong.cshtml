@using QLSVNoiTru.Database;
@using QLSVNoiTru.Models;
@{
    ViewBag.Title = "Danh sách sinh viên đóng tiền phòng";
    List<SinhVien> sinhViens = (List<SinhVien>)ViewData["sinhViens"];
}
<script>
    $("#SINHVIEN").addClass("active");
</script>
<div class="body">
    <section class="content">
        <div class="header">
            <div class="col-md-12">
                <h4 class="header-title">Danh sách sinh viên</h4>
            </div>
        </div>
        <!-- CONTENT -->
        <div class="main-content">
            <div class="row">
                <div class="col-md-12">
                    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-hover datatable">
                        <thead>
                            <tr>
                                <th>Tên khoa</th>
                                <th>Tên lớp</th>
                                <th>Mã sinh viên</th>
                                <th>Tên sinh viên</th>
                                <th>Tháng đóng</th>
                                <th class="text-center">Trạng thái ở</th>
                                <th style="width: 120px;"></th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in sinhViens)
                            {
                                <tr>
                                    <td>@item.Lop.Khoa.TenKhoa</td>
                                    <td>@item.Lop.TenLop</td>
                                    <td>@item.MaSinhVien</td>
                                    <td>@item.TenSinhVien</td>
                                    <td>
                                        @if (item.PhiPhongs.Count > 0)
                                        {
                                            foreach (var phiphong in item.PhiPhongs)
                                            {
                                                <span><b>@phiphong.Thang.ToString("MM-yyyy") - @phiphong.DenThang.ToString("MM-yyyy")</b> (@item.Phong.SoHieuPhong) |</span>
                                            }
                                        }
                                    </td>
                                    <td class="text-center">@DataHelper.ConvertTrangThaiO(item.TrangThaiO.Value)</td>
                                    <td class="text-center">
                                        <a href="/SinhVien/ChiTietSinhVien?masinhvien=@item.MaSinhVien" class="btn btn-primary btn-sm">Chi tiết</a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- END: CONTENT -->
    </section>
</div>